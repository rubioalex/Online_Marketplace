{% extends 'core/layout.html' %}

{% block title %}
    Conversation
{% endblock %}

{% block content %}
    <div class="conv-form-container">
        <p class="new-conv-title">
            Conversation
        </p>

    <div class="detail-body">
        <div class="all-messages">
            {% for message in conversation.messages.all %}
                    <div class="{% if message.created_by == request.user %}white-message{% else %}gray-message{% endif %}">
                        <div>
                            {% if message.created_by == request.user %}
                                <p><strong>You</strong> @ {{ message.created_at }}</p>
                                <p>{{ message.content }}</p>
                            {% else %}
                                <p><strong>{{ message.created_by.username }}</strong> @ {{ message.created_at }}</p>
                                <p>{{ message.content }}</p>
                            {% endif %}
                        </div>
                    </div>
            {% endfor %}
        </div>

        <form action="." method="POST">
            {% csrf_token %}

            <div class="form-row newitem-form-row">
                <label style="
                font-size: 20px;
                font-weight: 500;
                margin-bottom: 10px;
                " for="Content:">Message:</label>
                {{ form.content }}
            </div>

            <button type="submit" id="conv-button" class="contact-seller-button">Send</button>
        </form>
    </div>
{% endblock %}